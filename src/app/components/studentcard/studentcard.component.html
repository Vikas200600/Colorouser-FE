<div class="container navs pt-3 d-flex justify-content-end align-items-center">
  <div class="navs-search me-2">
    <i class="fa fa-search icon py-2 px-2"></i>
    <input
      class="py-2"
      placeholder="Search Students"
      [(ngModel)]="searchKey"
      (ngModelChange)="getSearch()"
    />
  </div>
  <button
    routerLink="/add-student"
    class="py-2 px-3 mt-1 d-flex align-items-center"
  >
    <i class="fas fa-user-graduate"></i>
    <i class="fas fa-plus small-icon"></i>
  </button>
  <div class="bg-icon">
    <i class="fas fa-user-graduate"></i>
  </div>
</div>
<div
  class="container card-container d-flex flex-column align-items-center py-3"
>
  <ng-container *ngIf="studentData; else nostudentData">
    <div class="row row-cols-lg-5 g-4">
      <div *ngFor="let student of studentData['keys']" class="col">
        <mat-card
          class="card p-0"
          [style.borderColor]="studentData[student].color"
        >
          <mat-card-content class="card-content p-3">
            <div
              class="clip-path"
              [style.backgroundColor]="studentData[student].color"
            ></div>
            <div class="card-content-icon d-flex justify-content-end mb-1">
              <i
                [routerLink]="'edit-student/' + studentData[student].id"
                class="far fa-edit me-2"
              ></i>
              <i
                (click)="
                  openDialog(
                    studentData[student].id,
                    studentData[student].house
                  )
                "
                class="far fa-trash-alt"
              ></i>
            </div>
            <ng-container *ngIf="studentData[student].profile; else blankDp">
              <img
                src="studentData[student].profile"
                alt="profile"
                class="ms-3"
              />
            </ng-container>
            <ng-template #blankDp>
              <img
                src="../../../assets/profiles/blank-dp.png"
                alt="profile"
                class="ms-3"
              />
            </ng-template>
            <h2
              class="my-2 ps-3 names"
              style="font-weight: 700"
              [style.color]="studentData[student].color"
            >
              {{ studentData[student].name }}
            </h2>
            <ul class="card-content-details pb-2">
              <li><span>Mobile: </span>{{ studentData[student].mobile }}</li>
              <li><span>Class: </span>{{ studentData[student].class }}</li>
              <li><span>Group: </span>{{ studentData[student].house }}</li>
              <li>
                <span>Blood Group: </span>{{ studentData[student].bloodGroup }}
              </li>
            </ul>
            <h1
              class="card-content-id"
              [style.color]="studentData[student].color"
            >
              {{ studentData[student].id }}
            </h1>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </ng-container>
  <ng-template #nostudentData>
    <p class="mt-5 pt-5">No Students Added Yet</p>
    <p><a routerLink="/add-student">Click here</a> to add Group</p>
  </ng-template>
  <ng-container *ngIf="studentData['keys'].length <= 0">
    <p class="m-5 p-5">No Students Found</p>
  </ng-container>
</div>
